[{"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/index.js":"1","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/App.js":"2","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/reportWebVitals.js":"3","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/home.js":"4","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/login.js":"5","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/footer.js":"6","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/navbar.js":"7","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/sign-up.js":"8","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/HOC/withRouterProp.js":"9","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/context/AuthContext.js":"10"},{"size":615,"mtime":1637226062795,"results":"11","hashOfConfig":"12"},{"size":864,"mtime":1647176024663,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1636622554903,"results":"14","hashOfConfig":"12"},{"size":3102,"mtime":1637597586650,"results":"15","hashOfConfig":"12"},{"size":2333,"mtime":1647866996634,"results":"16","hashOfConfig":"12"},{"size":324,"mtime":1636724988219,"results":"17","hashOfConfig":"12"},{"size":1918,"mtime":1646887233343,"results":"18","hashOfConfig":"12"},{"size":1543,"mtime":1647868233561,"results":"19","hashOfConfig":"12"},{"size":374,"mtime":1636724231118,"results":"20","hashOfConfig":"12"},{"size":4173,"mtime":1648147266172,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1l97q8x",{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59"},"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/index.js",[],[],"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/App.js",["60"],[],"import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n//Components\nimport NavBar from \"./components/navbar\";\nimport LoginPage from \"./components/login\";\nimport HomePage from \"./components/home\";\nimport SignUp from \"./components/sign-up\";\nimport Footer from \"./components/footer\";\nimport { AuthProvider } from \"./context/AuthContext\";\n//React-router\nimport { Routes, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <AuthProvider>\n        <header>\n          <NavBar />\n        </header>\n        <Routes>\n          <Route path=\"/\" exact element={<HomePage />} />\n          <Route path=\"/login\" element={<LoginPage />} />\n          <Route path=\"/sign-up\" element={<SignUp />} />\n        </Routes>\n\n        <Footer />\n      </AuthProvider>\n    </div>\n  );\n}\n\nexport default App;\n",["61","62"],"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/reportWebVitals.js",[],[],"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/home.js",["63","64","65","66","67"],[],"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/login.js",["68"],[],"import React, { useContext } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\n\n//Bootstrap Components\nimport Alert from \"react-bootstrap/Alert\";\n\n//Material UI Components\nimport { Tooltip } from \"@mui/material\";\n\nconst LoginPage = () => {\n  let { loginUser } = useContext(AuthContext);\n  return (\n    // <div>\n    //   <form onSubmit={loginUser}>\n    //     <input type=\"text\" name=\"username\" placeholder=\"enter user name\" />\n    //     <input type=\"password\" name=\"password\" placeholder=\"password\" />\n    //     <input type=\"submit\" value=\"Submit\" />\n    //   </form>\n    // </div>\n    <div className=\"heatmapWrapper\">\n      <div className=\"heatmapContainer\">\n        <div className=\"heatmapHeader\">\n          <h1 date-testid=\"login-header\">Login</h1>\n        </div>\n        {/* {this.state.error ? (\n          <Alert variant=\"danger\">\n            <Alert.Heading> Error</Alert.Heading>\n            <p>{this.state.error}</p>\n          </Alert>\n        ) : null} */}\n\n        <div>\n          <form onSubmit={loginUser} className=\"loginForm\">\n            <input\n              type=\"text\"\n              id=\"email\"\n              name=\"username\"\n              placeholder=\"Email ...\"\n            />{\" \"}\n            <br />\n            <br />\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Password ...\"\n            />{\" \"}\n            <br />\n            <br />\n            <Tooltip title=\"Log into account\">\n              <input type=\"submit\" className=\"heatmapbtn\" value=\"Login\" />\n              {/* Login\n              </input> */}\n            </Tooltip>\n          </form>\n\n          {/* <form onSubmit={loginUser} className=\"loginForm\">\n            <input\n              type=\"text\"\n              id=\"email\"\n              name=\"username\"\n              placeholder=\"enter user name...\"\n            />\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"password\"\n            />\n            <input type=\"submit\" value=\"Submit\" className=\"heatmapbtn\" />\n          </form> */}\n          <a className=\"text-color\" href=\"/sign-up\">\n            <p>Create an Account</p>\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n",["69","70"],"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/footer.js",[],[],"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/navbar.js",["71"],[],"import React, { useContext } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\n\n// Bootstrap Components\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Container from \"react-bootstrap/Container\";\n//react router\n\nimport { NavLink, Link } from \"react-router-dom\";\n\nconst NavBar = () => {\n  let { user, logoutUser } = useContext(AuthContext);\n\n  const authenticatedLinks = (\n    <React.Fragment>\n      <Nav className=\"me-auto\">\n        <Nav.Link href=\"#features\" id=\"navlinks\" className=\"heatmap-navlinks\">\n          Heatmap\n        </Nav.Link>\n        <Nav.Link\n          href=\"#pricing\"\n          id=\"navlinks\"\n          className=\"heatmap-navlinks\"\n          onClick={logoutUser}\n        >\n          Logout\n        </Nav.Link>\n      </Nav>\n      <Nav>\n        <Navbar.Text id=\"navlinks\">\n          {\" \"}\n          {user && <p> Hello {user.name}</p>}\n        </Navbar.Text>\n      </Nav>\n    </React.Fragment>\n  );\n\n  const guestLinks = (\n    <React.Fragment>\n      <Nav className=\"me-auto\">\n        <Link\n          to=\"/login\"\n          id=\"navlinks\"\n          className=\"heatmap-navlinks navbtn nav-link\"\n        >\n          Login\n        </Link>\n        <Link\n          to=\"/sign-up\"\n          id=\"navlinks\"\n          className=\" nav-link heatmap-navlinks\"\n        >\n          Sign-up\n        </Link>\n      </Nav>\n    </React.Fragment>\n  );\n\n  return (\n    <div>\n      <Navbar\n        collapseOnSelect\n        expand=\"lg\"\n        variant=\"dark\"\n        className=\"heatmap-navbar\"\n      >\n        <Container>\n          <Navbar.Brand href=\"#home\">COVID-19 Heatmap</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\n            {user ? authenticatedLinks : guestLinks}\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default NavBar;\n",["72","73"],"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/components/sign-up.js",["74"],[],"import React, { useContext } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\n\n//Bootstrap Components\nimport Alert from \"react-bootstrap/Alert\";\n\n//Material UI Components\nimport { Tooltip } from \"@mui/material\";\n\nconst SignUp = () => {\n  let { registerUser } = useContext(AuthContext);\n\n  return (\n    <div className=\"heatmapWrapper\">\n      <div className=\"heatmapContainer\">\n        <div className=\"heatmapHeader\">\n          <h1>Register Account</h1>\n        </div>\n        {/* {this.state.error ? (\n          <Alert variant=\"danger\">\n            <Alert.Heading>Error</Alert.Heading>\n            <p>{this.state.error}</p>\n          </Alert>\n        ) : null} */}\n        <br />\n        <form onSubmit={registerUser} className=\"signupForm\">\n          <input\n            type=\"text\"\n            id=\"user_name\"\n            name=\"name\"\n            placeholder=\"Full name ...\"\n          ></input>{\" \"}\n          <br />\n          <br />\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Email ...\"\n          ></input>{\" \"}\n          <br />\n          <br />\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Password ...\"\n          ></input>{\" \"}\n          <br />\n          <br />\n          <Tooltip title=\"Register account\">\n            <input type=\"submit\" className=\"heatmapbtn\" value=\"Register\" />\n          </Tooltip>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;\n","/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/HOC/withRouterProp.js",[],[],"/Users/lax001/My Documents/Web Dev - Hyperion/Paired project/covid-19_heatmap/heatmap_frontend/src/context/AuthContext.js",["75"],[],"import { createContext, useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\n\nimport React from \"react\";\n\nconst AuthContext = createContext();\n\nexport default AuthContext;\n\nexport const AuthProvider = ({ children }) => {\n  /* state */\n\n  /*authentication token*/\n  let [authToken, setAuthToken] = useState(() =>\n    localStorage.getItem(\"authToken\")\n      ? JSON.parse(localStorage.getItem(\"authToken\"))\n      : null\n  );\n\n  /* gets the user name from the auth token*/\n  let [user, setUser] = useState(() =>\n    localStorage.getItem(\"authToken\")\n      ? jwt_decode(localStorage.getItem(\"authToken\"))\n      : null\n  );\n\n  /* used to trigger a new token being generated*/\n  let [loading, setLoading] = useState(true);\n\n  const history = useNavigate();\n\n  /*function to login the user and get the auth token */\n\n  let loginUser = async (e) => {\n    e.preventDefault();\n\n    console.log(\">>> Login details submitted <<<\");\n\n    let response = await fetch(\"http://127.0.0.1:8000/api/token/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        username: e.target.username.value,\n        password: e.target.password.value,\n      }),\n    });\n    let data = await response.json();\n    console.log(data);\n    if (response.status === 200) {\n      setAuthToken(data);\n      setUser(jwt_decode(data.access));\n      console.log(`>>>User ${user} is logged in <<<`);\n      localStorage.setItem(\"authToken\", JSON.stringify(data));\n    } else {\n      alert(\"could not authenticate user\");\n    }\n    console.log({ authToken });\n  };\n\n  /* Register user */\n\n  let registerUser = async (e) => {\n    e.preventDefault();\n\n    console.log(\">>> Registration details submitted <<<\");\n\n    let response = await fetch(\"http://127.0.0.1:8000/api/users/register/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: e.target.name.value,\n        email: e.target.email.value,\n        password: e.target.password.value,\n      }),\n    });\n    let data = await response.json();\n    console.log(data);\n    if (response.status === 200) {\n      setAuthToken(data.token);\n      setUser(jwt_decode(data.token.access));\n      console.log(`>>>User ${{ user }} is logged in <<<`);\n      localStorage.setItem(\"authToken\", JSON.stringify(data.token));\n    } else {\n      alert(\"could not authenticate user\");\n    }\n    console.log({ authToken });\n  };\n\n  //logout user\n  let logoutUser = () => {\n    setAuthToken(null);\n    setUser(null);\n    localStorage.removeItem(\"authToken\");\n    history(\"/\");\n  };\n\n  //gets new access token using the refresh token\n  let updateToken = async () => {\n    console.log(\">>> Updating Token <<<\", { authToken });\n    let response = await fetch(\"http://127.0.0.1:8000/api/token/refresh/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        refresh: authToken?.refresh,\n      }),\n    });\n    let data = await response.json();\n    console.log(data);\n    if (response.status === 200) {\n      setAuthToken(data);\n      setUser(jwt_decode(data.access));\n      localStorage.setItem(\"authToken\", JSON.stringify(data));\n      history(\"/\"); // this replaces history.push('/)\n    } else {\n      logoutUser();\n    }\n    if (loading) {\n      setLoading(false);\n    }\n    console.log({ authToken });\n  };\n\n  //populates contextData with state\n  let contextData = {\n    user: user,\n    authToken: authToken,\n    logoutUser: logoutUser,\n    loginUser: loginUser,\n    registerUser: registerUser,\n  };\n\n  useEffect(() => {\n    if (loading) {\n      updateToken();\n    }\n    // calls updateToken every 4 minutes\n    let fourMinutes = 1000 * 60 * 4;\n    let interval = setInterval(() => {\n      if (authToken) {\n        updateToken();\n      }\n    }, fourMinutes);\n\n    return () => clearInterval(interval); //clears interval so that an endless loop isn't created\n  }, [authToken, loading]);\n\n  return (\n    <AuthContext.Provider value={contextData}>{children}</AuthContext.Provider>\n  );\n};\n",{"ruleId":"76","severity":1,"message":"77","line":1,"column":8,"nodeType":"78","messageId":"79","endLine":1,"endColumn":12},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"76","severity":1,"message":"84","line":4,"column":10,"nodeType":"78","messageId":"79","endLine":4,"endColumn":17},{"ruleId":"76","severity":1,"message":"85","line":14,"column":9,"nodeType":"78","messageId":"79","endLine":14,"endColumn":20},{"ruleId":"76","severity":1,"message":"86","line":15,"column":9,"nodeType":"78","messageId":"79","endLine":15,"endColumn":18},{"ruleId":"76","severity":1,"message":"87","line":16,"column":9,"nodeType":"78","messageId":"79","endLine":16,"endColumn":15},{"ruleId":"76","severity":1,"message":"88","line":17,"column":9,"nodeType":"78","messageId":"79","endLine":17,"endColumn":24},{"ruleId":"76","severity":1,"message":"89","line":5,"column":8,"nodeType":"78","messageId":"79","endLine":5,"endColumn":13},{"ruleId":"80","replacedBy":"90"},{"ruleId":"82","replacedBy":"91"},{"ruleId":"76","severity":1,"message":"92","line":10,"column":10,"nodeType":"78","messageId":"79","endLine":10,"endColumn":17},{"ruleId":"80","replacedBy":"93"},{"ruleId":"82","replacedBy":"94"},{"ruleId":"76","severity":1,"message":"89","line":5,"column":8,"nodeType":"78","messageId":"79","endLine":5,"endColumn":13},{"ruleId":"95","severity":1,"message":"96","line":152,"column":6,"nodeType":"97","endLine":152,"endColumn":26,"suggestions":"98"},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","no-native-reassign",["99"],"no-negated-in-lhs",["100"],"'Tooltip' is defined but never used.","'countryCode' is assigned a value but never used.","'confirmed' is assigned a value but never used.","'deaths' is assigned a value but never used.","'countryLocation' is assigned a value but never used.","'Alert' is defined but never used.",["99"],["100"],"'NavLink' is defined but never used.",["99"],["100"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'updateToken'. Either include it or remove the dependency array.","ArrayExpression",["101"],"no-global-assign","no-unsafe-negation",{"desc":"102","fix":"103"},"Update the dependencies array to be: [authToken, loading, updateToken]",{"range":"104","text":"105"},[4050,4070],"[authToken, loading, updateToken]"]